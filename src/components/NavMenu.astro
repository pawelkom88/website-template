---
import { Image } from "astro:assets";

interface NavItem {
  text: string;
  href?: string;
  dropdown?: boolean;
  iconSrc?: string;
  dropdownItems?: Partial<NavItem>[];
}

const navItems: NavItem[] = [
  { text: "Home", href: "/", dropdown: false },
  { text: "About", href: "/about-our-company", dropdown: false },
  {
    text: "Services",
    dropdown: true,
    iconSrc:
      "https://d33wubrfki0l68.cloudfront.net/ddd4ab9e3e9a3f35d87c06ac91bcc6db9de375e5/61d7d/assets/images/down.svg",
    dropdownItems: [
      { text: "Service 1", href: "/service1" },
      { text: "Service 2", href: "/service2" },
    ],
  },
  { text: "Contact", href: "/contact-us", dropdown: false },
];
---

<ul id="cs-expanded" class="cs-ul" aria-expanded="false">
  {
    navItems.map(item => (
      <li class={`cs-li${item.dropdown ? " cs-dropdown" : ""}`} tabindex="0">
        {item.dropdown ? (
          <span class="cs-li-link">
            {item.text}
            <Image
              class="cs-drop-icon"
              src={item.iconSrc!}
              alt="dropdown icon"
              width="15"
              height="15"
              aria-hidden="true"
            />
          </span>
        ) : (
          <a href={item.href} class="cs-li-link">
            {item.text}
          </a>
        )}

        {item.dropdown && (
          <ul class="cs-drop-ul">
            {item.dropdownItems!.map((dropdownItem) => (
              <li class="cs-drop-li">
                <a href={dropdownItem.href} class="cs-li-link cs-drop-link">
                  {dropdownItem.text}
                </a>
              </li>
            ))}
          </ul>
        )}
      </li>
    ))
  }
</ul>
